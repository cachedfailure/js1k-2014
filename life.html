<!doctype html>
<html>
	<head>
		<title>JS1k, [COMPO] demo submission [ID]</title>
		<meta charset="utf-8" />
    <style>
      html, body { margin: 0; padding: 0; border: 0; }
      #c { display: block; } /* kill scrollbars from hell */
    </style>
	</head>
	<body>
		<canvas id="c"></canvas>
		<script>
			var a = document.getElementsByTagName('canvas')[0];
			var b = document.body;
      var d = function(e){ return function(){ e.parentNode.removeChild(e); }; }(a);
      // unprefix some popular vendor prefixed things (but stick to their original name)
      var AudioContext =
        window.AudioContext ||
        window.webkitAudioContext;
      var requestAnimationFrame =
        window.requestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(f){ setTimeout(f, 1000/30); };
      // stretch canvas to screen size (once, wont onresize!)
      a.style.width = (a.width = innerWidth) + 'px';
      a.style.height = (a.height = innerHeight) + 'px';

      var c = a.getContext('2d');
		</script>
		<script>
// start of submission //
function E(n,r){for(var i in n)r(i)}function G(n,r){return z[n+_+r]||0}function N(n,r){return G(n-1,r-1)+G(n,r-1)+G(n+1,r-1)+G(n-1,r)+G(n+1,r)+G(n-1,r+1)+G(n,r+1)+G(n+1,r+1)}function S(){g++,z=JSON.parse(JSON.stringify(Z));for(var n=0;H>n;n++)for(var r=0;W>r;r++){var i=N(r,n);G(r,n)?(2>i||i>3)&&delete Z[r+_+n]:3==i&&(Z[r+_+n]=1)}P(Z,1)}function P(n,i){c.clearRect(0,0,w,h),E(n,function(n){var r=n.split(_);c[i?"fillRect":"strokeRect"](r[0]*s,r[1]*s,s,s)}),c.fillText("<"+(r?"Run":"Edit")+"> A) ANIM S) NEW D) EDIT F) FORW  Gen "+g,s,s)}function A(){a&&(S(),requestAnimationFrame(A))}var w=innerWidth,h=innerHeight,_=",",s=10,W=w/s|0,H=h/s|0,z={},Z={},V={"5,5":1,"6,5":1,"7,5":1,"7,4":1,"6,3":1},r=0,a=0,g=0;P(V),onclick=function(n){if(!r){var i=n.clientX/s|0,t=n.clientY/s|0;V[i+_+t]?delete V[i+_+t]:V[i+_+t]=1,P(V)}},onkeydown=function(n){var i=n.which;70==i?r?S():(E(V,function(n){Z[n]=V[n],z[n]=V[n]}),r=1,P(Z,1)):68==i?(z={},Z={},g=0,r=0,a=0,P(V)):83==i?(z={},Z={},V={},g=0,r=0,a=0,P({})):65==i&&r&&(a?a=0:(a=1,A()))};
// end of submission //
		</script>
	</body>
</html>
